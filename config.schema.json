{
    "type": "object",
    "properties": {
        "log_level": {
            "type": "string",
            "enum": [
                "ALL",
                "MARK",
                "TRACE",
                "DEBUG",
                "INFO",
                "WARN",
                "ERROR",
                "FATAL",
                "OFF",
                "levels"
            ],
			"default": "INFO"
        },
        "database": {
            "type": "object",
            "properties": {
                "host": {
					"type": "string",
					"format": "hostname",
					"default": "localhost"
                },
                "user": {
                    "type": "string",
					"default": "user"
                },
                "password": {
                    "type": "string"
                },
                "database": {
                    "type": "string",
					"default": "advent"
                },
				"connection_limit": {
					"type": "integer",
					"default": 10,
					"minimum": 1
				}
            },
            "required": [
                "host",
                "user",
                "password",
                "database",
				"connection_limit"
            ],
            "additionalProperties": false
        },
        "client_session": {
            "type": "object",
            "properties": {
                "jwt_secret": {
					"description": "secret for generating JSON webtokens",
                    "type": "string",
					"pattern": "^[^ ]+$",
					"minLength": 64
                },
                "expire": {
                    "type": "string",
					"description": "expire-duration for the generated tokens",
					"pattern": "^(-?(?:\\d+)?\\.?\\d+) *(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$",
					"default": "7d",
					"examples": ["7d", "5h"]
                }
            },
            "required": [
                "jwt_secret",
                "expire"
            ],
            "additionalProperties": false
        },
        "setup": {
			"description": "config for the amount of posts",
            "type": "object",
            "properties": {
                "start": {
					"description": "day of the first post",
                    "type": "string",
					"format": "date",
					"default": "2024-12-01"
                },
                "days": {
					"description": "number of days generated, starting at 'start'",
                    "type": "integer",
					"minimum": 1,
					"default": 24
                }
            },
            "required": [
                "start",
                "days"
            ],
            "additionalProperties": false
        },
        "server": {
			"description": "config for the backend-server",
            "type": "object",
            "properties": {
                "port": {
                    "type": "integer",
					"minimum": 0,
					"maximum": 65535
                },
				"upload_dir": {
					"type": "string",
					"pattern": "^[^ ]+$"
				}
            },
            "required": [
                "port",
				"upload_dir"
            ],
            "additionalProperties": false
        }
    },
    "required": [
        "log_level",
        "database",
        "client_session",
        "setup",
        "server"
    ],
    "additionalProperties": false
}